**Также известен как:** Switch Statements

### Симптомы и признаки
У вас есть сложный оператор `switch` или последовательность `if`-ов.

![[SWITCH_STATEMENTS.png]]

### Причины появления
Одним из очевидных признаков объектно-ориентированного кода служит сравнительно редкое использование операторов типа `switch` или `case`. Часто один и тот же блок `switch` оказывается разбросанным по разным местам программы. При добавлении в него нового варианта приходится искать все эти блоки `switch` и модифицировать их.

Как правило, заметив блок `switch`, следует подумать о полиморфизме.

### Лечение
- Чтобы изолировать `switch` и поместить его в нужный класс может понадобиться [извлечение метода](https://refactoring.guru/ru/extract-method) и [перемещение метода](https://refactoring.guru/ru/move-method).
    
- Если `switch` переключается по коду типа, например, переключается режим выполнения программы, то следует использовать [замену кодирования типа подклассами](https://refactoring.guru/ru/replace-type-code-with-subclasses) или [замену кодирования типа состоянием/стратегией](https://refactoring.guru/ru/replace-type-code-with-state-strategy).
    
- После настройки структуры наследования следует использовать [замену условного оператора полиморфизмом](https://refactoring.guru/ru/replace-conditional-with-polymorphism).
    
- Если вариантов в операторе не очень много и все они приводят к вызову одного и того же метода с разными параметрами, введение полиморфизма будет избыточным. В этом случае стоит задуматься о разбиении этого метода на несколько разных, которые будут выполнять каждый свои функции, для чего нужно применить [замену параметра набором специализированных методов](https://refactoring.guru/ru/replace-parameter-with-explicit-methods).
    
- Если одним из вариантов условного оператора является `null`, используйте [введение Null-объекта](https://refactoring.guru/ru/introduce-null-object).

### Выигрыш
Улучшает организацию кода.

### Не стоит трогать, если...
- Когда оператор `switch` выполняет простые действия, нет никакого смысла что-то менять в коде.
    
- Зачастую оператор `switch` используется в фабричных паттернах проектирования ([Фабричный метод](https://refactoring.guru/ru/design-patterns/factory-method), [Абстрактная фабрика](https://refactoring.guru/ru/design-patterns/abstract-factory)) для выбора создаваемого класса.