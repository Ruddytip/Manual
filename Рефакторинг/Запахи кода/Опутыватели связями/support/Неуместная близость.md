**Также известен как:** Inappropriate Intimacy

### Симптомы и признаки
Один класс использует служебные поля и методы другого класса.

![[INAPPROPRIATE_INTIMACY.png]]

### Причины появления
Смотрите внимательно за классами, которые проводят слишком много времени вместе. Хорошие классы должны знать друг о друге как можно меньше. Такие классы легче поддерживать и повторно использовать.

### Лечение
- Самый простой выход — при помощи [перемещения метода](https://refactoring.guru/ru/move-method) и [перемещения поля](https://refactoring.guru/ru/move-field) перенести части одного класса в другой (в тот, где они используются). Однако это может сработать только в том случае, если оригинальный класс не использует перемещаемые поля и методы.
    
- Другим решением является [извлечение зависимых частей в отдельный класс](https://refactoring.guru/ru/extract-class) и [сокрытие делегирования](https://refactoring.guru/ru/hide-delegate) к этому классу.
    
- Если между классами существует обоюдная зависимость, стоит прибегнуть к [замене двунаправленной связи на однонаправленную](https://refactoring.guru/ru/change-bidirectional-association-to-unidirectional).
    
- Если близость возникает между подклассом и родительским классом, рассмотрите возможность [замены делегирования наследованием](https://refactoring.guru/ru/replace-delegation-with-inheritance).

### Выигрыш
- Улучшает организацию кода.
    
- Упрощает техническую поддержку и повторное использование кода.