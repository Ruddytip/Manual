**Также известен как:** Parallel Inheritance Hierarchies

### Симптомы и признаки
Всякий раз при создании подкласса какого-то класса приходится создавать ещё один подкласс для другого класса.

![[PIH.png]]

### Причины появления
Пока иерархия была небольшая, всё было хорошо. Но с появлением новых классов вносить изменения становилось всё сложнее и сложнее.

### Лечение
Вы можете попытаться устранить дублирования параллельных классов в два этапа. Во-первых, нужно заставить экземпляры одной иерархии ссылаться на экземпляры другой иерархии. Затем следует убрать иерархию в ссылающемся классе с помощью [перемещения метода](https://refactoring.guru/ru/move-method) и [перемещения поля](https://refactoring.guru/ru/move-field).

### Выигрыш
- Уменьшает дублирования кода.
    
- Может улучшить организацию кода.

### Не стоит трогать, если...
Иногда наличие параллельной иерархии — это необходимое зло, без которого устройство программы было бы еще хуже. Если вы обнаружите, что ваши попытки устранить дублирование приводят к еще большему ухудшению организации кода, то... остановите рефакторинг, откатите все внесенные изменения, выпейте чаю и начните привыкать к этому коду.